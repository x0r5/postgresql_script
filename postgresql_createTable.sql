CREATE TABLE cloudops.test(
    id serial PRIMARY KEY,
    name varchar(50) NOT NULL,
    position varchar(50),
    birth DATE
);

INSERT INTO test(name, position, birth)
VALUES
    ('Sebestyen Soma', 'developer', to_date('19961022', 'YYYYMMDD')),
    ('Akar Ki', 'programmer', to_date('19880213', 'YYYYMMDD'));


INSERT INTO cloudops.pingdom_checks VALUES 
(1,
      "BOC",
      null,
      null,
      "NOTNOW",
      0,
      null,
      5,
      null,
      "Assign Issue 1",
      null,
      null,
      null,
      null,
      null
      )

INSERT INTO cloudops.pingdom_checks VALUES 
(1, BOC, None, None, NOTNOW, 0, None, 5, None, Assign Issue 1, None, None, None, None, None), (2, BOC, None, None, NOTNOW, 0, None, 5, None, Assign Issue 2, None, None, None, None, None), (3, BOC, None, None, NOTNOW, 0, None, 5, None, Assign Issue 3, None, None, None, None, None), (4, BOC, None, None, NOTNOW, 0, None, 5, None, Assign Issue 4, None, None, None, None, None), (5, BOC, None, None, NOTNOW, 0, None, 5, None, Assign Issue 5, None, None, None, None, None);


CREATE TABLE test.pingdom_checks(
    next_step_id SERIAL PRIMARY KEY,
    service VARCHAR(255),
    datacenter VARCHAR(100),
    alarmgroup VARCHAR(255),
    name VARCHAR(255),
    show_starting_relevant_to_start_time VARCHAR(255),
    show_starting_relevant_to_escalation_start_time VARCHAR(255),
    critical_at_relevant_to_start_time VARCHAR(255),
    critical_at_relevant_to_escalation_start_time VARCHAR(255),
    description VARCHAR(255),
    url VARCHAR(255),
    action_url VARCHAR(255),
    show_starting_relevant_to_last_update VARCHAR(255),
    status VARCHAR(255),
    critical_at_relevant_to_last_update VARCHAR(255)
);


CREATE TABLE CLOUDOPS.PINGDOM_CHECKS (
ID serial, 
NAME VARCHAR(255), 
URL VARCHAR(255) NOT NULL, 
DATACENTER VARCHAR(100), 
SERVICE VARCHAR(100), 
PINGDOMID VARCHAR(100), 
ADDED_ON DATE CS_DAYDATE, 
SYSTEM_UP BOOLEAN CS_INT, 
FACTOR INTEGER CS_INT, 
REFERENCE VARCHAR(100), 
HIBERNATED_SINCE LONGDATE CS_LONGDATE, 
RECOMMENDED_ACTION VARCHAR(250), 
FILTER VARCHAR(500), 
GODOWNIFDOWN INTEGER CS_INT, 
LATENCY INTEGER CS_INT DEFAULT 0, 
ALARM_GROUP VARCHAR(255), 
JIRA_PROJECT VARCHAR(100), 
JIRA_COMPONENT VARCHAR(100), 
RESULT_SHOULD_CONTAIN VARCHAR(255), 
RESULT_SHOULD_NOT_CONTAIN VARCHAR(255), 
POST_DATA VARCHAR(500), 
AUTHENTICATION VARCHAR(100), 
REQUEST_HEADERS VARCHAR(500), 
SLACK_WEBHOOK VARCHAR(255), 
ALERT BOOLEAN CS_INT DEFAULT FALSE, 
PRIMARY KEY (ID)
) UNLOAD PRIORITY 5 AUTO MERGE;


SET PASSWORD FOR root@'localhost' = PASSWORD('Gezorg128');
//letezo tablak:

CREATE TABLE "CLOUDOPS"."PINGDOM_CHECKS" (
    "ID" INTEGER CS_INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, 
    "NAME" VARCHAR(255), 
    "URL" VARCHAR(255) NOT NULL, 
    "DATACENTER" VARCHAR(100), 
    "SERVICE" VARCHAR(100), 
    "PINGDOMID" VARCHAR(100), 
    "ADDED_ON" DATE CS_DAYDATE, 
    "SYSTEM_UP" BOOLEAN CS_INT, 
    "FACTOR" INTEGER CS_INT, 
    "REFERENCE" VARCHAR(100), 
    "HIBERNATED_SINCE" LONGDATE CS_LONGDATE, 
    "RECOMMENDED_ACTION" VARCHAR(250), 
    "FILTER" VARCHAR(500), 
    "GODOWNIFDOWN" INTEGER CS_INT, 
    "LATENCY" INTEGER CS_INT DEFAULT 0, 
    "ALARM_GROUP" VARCHAR(255), 
    "JIRA_PROJECT" VARCHAR(100), 
    "JIRA_COMPONENT" VARCHAR(100), 
    "RESULT_SHOULD_CONTAIN" VARCHAR(255), 
    "RESULT_SHOULD_NOT_CONTAIN" VARCHAR(255), 
    "POST_DATA" VARCHAR(500), 
    "AUTHENTICATION" VARCHAR(100), 
    "REQUEST_HEADERS" VARCHAR(500), 
    "SLACK_WEBHOOK" VARCHAR(255), 
    "ALERT" BOOLEAN CS_INT DEFAULT FALSE, 
    PRIMARY KEY ("ID")
    ) UNLOAD PRIORITY 5 AUTO MERGE;
 
 
CREATE COLUMN TABLE "CLOUDOPS"."PINGDOM_OUTAGE" (
    "TENANT" INTEGER CS_INT, 
    "STARTTIME" LONGDATE CS_LONGDATE, 
    "DURATION" INTEGER CS_INT, 
    "IGNORE" BOOLEAN CS_INT DEFAULT FALSE, 
    "FACTOR" INTEGER CS_INT DEFAULT 1, 
    "JIRAID" VARCHAR(100), 
    "ERRORCODE" VARCHAR(500), 
    "ANALYSISID" INTEGER CS_INT, 
    "INTERNAL_ISSUE_MAIL_SENT" LONGDATE CS_LONGDATE, 
    "INTERNAL_SOLVED_MAIL_SENT" LONGDATE CS_LONGDATE, 
    "BOARD_ISSUE_MAIL_SENT" LONGDATE CS_LONGDATE, 
    "EXTERNAL_ISSUE_MAIL_SENT" LONGDATE CS_LONGDATE, 
    "EXTERNAL_SOLVED_MAIL_SENT" LONGDATE CS_LONGDATE, 
    "BOARD_SOLVED_MAIL_SENT" LONGDATE CS_LONGDATE, 
    "DURING_PLANNED_MAINTENANCE" BOOLEAN CS_INT, 
    "MAINTENANCE_FLAG_SET" BOOLEAN CS_INT, 
    "PARENTOUTAGE" INTEGER CS_INT, 
    "ANALYSISRAWDATA" NCLOB MEMORY THRESHOLD 1000) UNLOAD PRIORITY 5  AUTO MERGE 
 
CREATE COLUMN TABLE "CLOUDOPS"."PINGDOM_CHECK_TO_CUSTOMER_INSTANCE_MAPPING" (
    "PINGDOM_CHECK_ID" INTEGER CS_INT, 
    "CUSTOMER_INSTANCE_ID" INTEGER CS_INT) UNLOAD PRIORITY 5  AUTO MERGE 
 
 
CREATE COLUMN TABLE "CLOUDOPS"."CUSTOMER_INSTANCES" (
    "ID" INTEGER CS_INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, 
    "CUSTOMER_NAME" VARCHAR(100) NOT NULL , 
    "CRM_TENANT_ID" VARCHAR(100), 
    "UUID" VARCHAR(100) NOT NULL , 
    "URL" VARCHAR(255) NOT NULL , 
    "ERP_NUMBER" VARCHAR(100), 
    "EMAILS" NCLOB MEMORY THRESHOLD 1000, 
    "DATACENTER" VARCHAR(100), 
    "EXPIRED" BOOLEAN CS_INT DEFAULT FALSE, 
    "SERVICE" VARCHAR(100), 
    "SLA_RELEVANT" BOOLEAN CS_INT DEFAULT FALSE) UNLOAD PRIORITY 5 AUTO MERGE
 
 
CREATE COLUMN TABLE "CLOUDOPS"."CUSTOMER_INSTANCE_AVAILABILITY" (
    "CUSTOMER_INSTANCE_ID" INTEGER CS_INT, 
    "REFERENCE_DATE" DATE CS_DAYDATE, 
    "AVAILABILITY" REAL CS_FLOAT) UNLOAD PRIORITY 5  AUTO MERGE 
 
 
CREATE COLUMN TABLE "CLOUDOPS"."COC_AVAILABILITY" (
    "SERVICE" VARCHAR(100), 
    "DATACENTER" VARCHAR(100), 
    "FACTOR" INTEGER CS_INT, 
    "DATE" DATE CS_DAYDATE, 
    "AVAILABILITY" REAL CS_FLOAT) UNLOAD PRIORITY 5  AUTO MERGE 
 
 
CREATE COLUMN TABLE "CLOUDOPS"."EVENTS" (
    "EVENT_ID" INTEGER CS_INT GENERATED BY DEFAULT AS IDENTITY NOT NULL , 
    "CUSTOMER_INSTANCE_ID" INTEGER CS_INT NOT NULL , 
    "START_TIME" LONGDATE CS_LONGDATE NOT NULL , 
    "END_TIME" LONGDATE CS_LONGDATE, 
    "DURATION" INTEGER CS_INT, 
    "SEND_EXTERNAL_ISSUE_MAIL" BOOLEAN CS_INT, 
    "EXTERNAL_ISSUE_MAIL_SENT" LONGDATE CS_LONGDATE, 
    "SEND_EXTERNAL_SOLVED_MAIL" BOOLEAN CS_INT, 
    "EXTERNAL_SOLVED_MAIL_SENT" LONGDATE CS_LONGDATE, 
    "SPC_EVENT_ID" VARCHAR(100)) UNLOAD PRIORITY 5  AUTO MERGE 
